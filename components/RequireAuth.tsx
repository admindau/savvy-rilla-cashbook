"use client";import {useEffect,useState} from 'react';import {supabase} from '@/lib/supabaseClient';import {useRouter} from 'next/navigation';import Loader from './Loader';export default function RequireAuth({children}:{children:React.ReactNode}){const[rdy,setRdy]=useState(false);const router=useRouter();useEffect(()=>{supabase.auth.getSession().then(({data})=>{if(!data.session) router.replace('/auth'); else setRdy(true);});},[]);if(!rdy) return <div className='p-8'><Loader/></div>;return <>{children}</>;}
